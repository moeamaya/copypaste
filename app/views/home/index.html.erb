
<div class="container">

	<div class="pasteee">
		<%= form_for :link, url:links_path do |f| %>
		<%= f.text_field :address, :placeholder => 'PASTEEE a link...', :autocomplete => 'off' %>
		<br />
	</div>
	<div id="spinner" style="display:none">
		<%= image_tag ("spinner.gif") %>
	</div>

	<div id="title_hide" style="display:none">
		<%= f.label :name, 'User' %>
		<%= f.text_field :name %><br />

		<%= f.label :title %>
		<%= f.text_field :title %><br />

		<%= f.submit %>
		<% end %>
	</div>


	<br>
	<% @links.each do |link| %>
	<div class="link-wrapper">

		<!-- image link -->
		<div class="image-wrapper">
			<a href=" <%= link.address  %>">
			</a>
		</div>  
		<!-- text link -->  
		<a href="<%= link.address %>" target="_blank"><%= link.title %></a>

		<!-- link attributes -->  
		<div class="link-attr">
			<b><%= link.name %></b>
			<%= link.created_at.strftime("%b %d %Y") %>
		</div>

		<div class="delete">
			<%= link_to 'Delete', link, :confirm => 'Are you sure?', :method => :delete %>
		</div>
	</div>
	<% end %>


</div>

<script>
$(document).ready(function(){

    // Or you can paste your URL directly to your input box.
    $('#link_address').bind("paste", parse_link);

    // Get website information.
    function parse_link(){
    	$('#spinner').slideDown();
    	setTimeout(function() {

    		$.ajax({
    			type: "GET",
    			url: '/search?'+'link='+$('#link_address').val(),

    			processData: false,
    			dataType: 'html',
    			type: 'GET',
    			timeout: 30000,
    			success: function(response){
    				$('#spinner').hide();
    				$('#title_hide').slideDown();
    				$('#link_title').val(response);


    			}})
    	}, 500 )
    };


  })//document ready



</script>









